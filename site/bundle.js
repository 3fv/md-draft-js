!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=8)}([function(e,t){function n(){return{before:"",after:"",selection:"",startTag:"",endTag:"",scrollTop:0,start:0,end:0,focus:!1}}e.exports.compile=function({before:e,after:t,startTag:n,endTag:r,...o}){return{before:e+n,after:r+t,startTag:"",endTag:"",...o}},e.exports.createEmpty=n,e.exports.createWithContent=function(e){let t;return e?"string"==typeof e?t={before:e}:"object"==typeof e&&(t=e):t=e,Object.assign({before:"",after:"",selection:"",startTag:"",endTag:"",scrollTop:0,start:0,end:0,focus:!1},t)},e.exports.getText=function(e){return e.before+e.startTag+e.selection+e.endTag+e.after}},function(e,t,n){const r=n(4),o=n(23),{getSelection:a}=n(5),c=n(24);e.exports.getChunks=function(e){const t=a(e),n=o(e.value.substring(0,t.start)),r=o(e.value.substring(t.start,t.end));return{before:n,after:o(e.value.substring(t.end)),selection:r,startTag:"",endTag:"",scrollTop:e.scrollTop,text:e.value,focus:!1}},e.exports.findTags=function(e,t,n){let r;const o=Object.assign({},e);return t&&(r=c(t,"","$"),o.before=o.before.replace(r,a),r=c(t,"^",""),o.selection=o.selection.replace(r,a)),n&&(r=c(n,"","$"),o.selection=o.selection.replace(r,s),r=c(n,"^",""),o.after=o.after.replace(r,s)),o;function a(e){return o.startTag+=e,""}function s(e){return o.endTag=e+o.endTag,""}},e.exports.skip=function(e,t){const n=t||{},o=Object.assign({},e);let a="before"in n?n.before:1,c="after"in n?n.after:1;return o.selection=o.selection.replace(/(^\n*)/,""),o.startTag+=RegExp.$1,o.selection=o.selection.replace(/(\n*$)/,""),o.endTag+=RegExp.$1,o.startTag=o.startTag.replace(/(^\n*)/,""),o.before+=RegExp.$1,o.endTag=o.endTag.replace(/(\n*$)/,""),o.after+=RegExp.$1,o.before&&(a+=1,o.before=s(o.before,a,"$")),o.after&&(c+=1,o.after=s(o.after,c,"")),o;function s(e,t,o){const a=n.any?"\\n*":r("\\n?",t),c=r("\n",t);return e.replace(new RegExp(a+o),c)}},e.exports.trim=function(e,t){const n=Object.assign({},e);return n.selection=n.selection.replace(/^(\s*)/,t?"":function(e){return n.before+=e,""}).replace(/(\s*)$/,t?"":function(e){return n.after=e+n.after,""}),n}},function(e,t){e.exports=React},function(e,t){e.exports.commands=[{combo:"cmd+b",key:"bold"},{combo:"cmd+i",key:"italic"},{combo:"cmd+e",key:"quote"},{combo:"cmd+j",key:"code"},{combo:"cmd+o",key:"ol"},{combo:"cmd+u",key:"ul"},{combo:"cmd+d",key:"heading"},{combo:"cmd+k",key:"link"},{combo:"cmd+g",key:"media"},{combo:"cmd+h",key:"hr"}],e.exports.settings={lineLength:80}},function(e,t){e.exports=function(e,t){return new Array(t+1).join(e)}},function(e,t){e.exports.setSelection=function({before:e,startTag:t,selection:n,scrollTop:r,focus:o},a){const c=e.length+t.length,s=c+n.length;void 0!==a.selectionStart&&(o&&a.focus(),a.selectionStart=c,a.selectionEnd=s,a.scrollTop=r)},e.exports.getSelection=function(e){return void 0!==e.selectionStart?{start:e.selectionStart,end:e.selectionEnd}:{start:0,end:0}}},function(e,t,n){const{bold:r,isBold:o}=n(25),{italic:a,isItalic:c}=n(26),{linkOrMediaOrAttachment:s}=n(27),{list:i}=n(29),{blockquote:l}=n(30),{codeblock:u,isCodeblock:f}=n(31),{notebook:p}=n(32),{heading:d}=n(33),{hr:g}=n(34);e.exports.applyCommand=function(e,t,n){const o=Object.assign({},e,{focus:!0});switch(t){case"bold":return r(o);case"italic":return a(o);case"hr":return g(o);case"quote":return l(o);case"code":return u(o);case"notebook":return p(o,n);case"ul":return i(o);case"ol":return i(o,!0);case"heading":return d(o,n);case"link":return s(o,n,"link");case"media":return s(o,n,"media");default:return o}},e.exports.isApplied=function(e,t){switch(t){case"bold":return o(e);case"italic":return c(e);case"code":return f(e);default:return!1}}},function(e,t){const n="(?:\\s{4,}|\\s*>|\\s*-\\s+|\\s*\\d+\\.|=|\\+|-|_|\\*|#|\\s*\\[[^\n]]+\\]:)",r=new RegExp(`^${n}`,""),o=new RegExp(`([^\\n])\\n(?!(\\n|${n}))`,"g"),a=/\s+$/;function c(e){return o.lastIndex=0,Object.assign({},e,{selection:e.selection.replace(o,"$1 $2")})}e.exports.wrap=function(e,t){const n=new RegExp(`(.{1,${t}})( +|$\\n?)`,"gm"),o=c(e);return o.selection=o.selection.replace(n,function(e,t){return r.test(e)?e:`${t}\n`}).replace(a,""),o},e.exports.unwrap=c},function(e,t,n){e.exports=n(9)},function(e,t,n){const r=n(2),o=n(10),a=n(11);o.render(r.createElement(a),document.getElementById("root"))},function(e,t){e.exports=ReactDOM},function(e,t,n){(function(t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var i=n(13),l=n(2),u=n(14),f=n(15),p=f.Editor,d=f.EditorState,g=f.RichUtils,m=n(6).isApplied,h="# Sample title\n\nYour content goes here.";e.exports=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?s(e):t}(this,a(n).call(this,e))).state={editorState:d.createWithContent(h)},t.onChange=function(e){return t.setState({editorState:e})},t.handleKeyCommand=t.handleKeyCommand.bind(s(s(t))),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(n,l.Component),function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(n,[{key:"handleKeyCommand",value:function(e){var t=e.key,n=g.applyCommand(this.state.editorState,t);n&&this.onChange(n)}},{key:"onClickCommand",value:function(e){this.onChange(g.applyCommand(this.state.editorState,e))}},{key:"onLinkClick",value:function(){var e=t.prompt("Link URL:");e&&this.onChange(g.applyCommand(this.state.editorState,"link",e))}},{key:"onImageClick",value:function(){var e=t.prompt("Image URL:");e&&this.onChange(g.applyCommand(this.state.editorState,"media",e))}},{key:"render",value:function(){var e=this;return l.createElement("div",{className:"editor"},l.createElement("div",{className:"editor-buttons"},u.map(function(t,n){var r=t.command,o=(t.label,t.icon);return l.createElement("button",{key:n,className:i("editor-action",m(e.state.editorState,r)?"active":""),onClick:e.onClickCommand.bind(e,r),"aria-label":"Bold"},l.createElement("i",{key:"span-".concat(n),className:"fas fa-".concat(o||r),"aria-hidden":"true"}))}),l.createElement("button",{className:"editor-action",onClick:this.onLinkClick.bind(this),"aria-label":"Link"},l.createElement("span",{className:"glyphicon glyphicon-link","aria-hidden":"true"})),l.createElement("button",{className:"editor-action",onClick:this.onImageClick.bind(this),"aria-label":"Image"},l.createElement("span",{className:"glyphicon glyphicon-picture","aria-hidden":"true"}))),l.createElement(p,{autoFocus:!0,className:"editor-textarea",editorState:this.state.editorState,onKeyCommand:this.handleKeyCommand,onChange:this.onChange}))}}]),n}()}).call(this,n(12))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r;
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r))e.push(o.apply(null,r));else if("object"===a)for(var c in r)n.call(r,c)&&r[c]&&e.push(c)}}return e.join(" ")}void 0!==e&&e.exports?e.exports=o:void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t){e.exports=[{command:"bold",icon:"bold",label:"Bold"},{command:"italic",icon:"italic",label:"Italic"},{command:"heading",icon:"heading",label:"Heading"},{command:"quote",icon:"quote-right",label:"Quote"},{command:"code",icon:"code",label:"Monospace"},{command:"ul",icon:"list-ul",label:"List"},{command:"ol",icon:"list-ol",label:"Numbered"}]},function(e,t,n){const r=n(16),o=n(0),a=n(6);e.exports={Editor:r,EditorState:o,RichUtils:a}},function(e,t,n){const r=n(17),o=n(2),a=n(18),{commands:c}=n(3),{getChunks:s}=n(1),{setSelection:i}=n(5),{getText:l}=n(0);class u extends o.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}shouldComponentUpdate(e){return e.className!==this.props.className||["before","after","startTag","endTag","selection"].some(t=>e.editorState[t]!==this.props[t])}componentDidUpdate(){i(this.props.editorState,this.textarea)}handleKeyDown(e){this.props.commands.forEach(t=>{t.combo&&r(e,t.combo)&&(e.preventDefault(),this.props.onKeyCommand(t))})}handleChange(e){const{onChange:t}=this.props;t(s(e.target))}render(){const{autoFocus:e,name:t,editorState:n}=this.props,r=l(n);return o.createElement("textarea",{"data-test-id":"editor-text-area",autoFocus:e,ref:e=>{this.textarea=e},id:t,name:t,value:r,className:this.props.className,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onSelect:this.handleChange})}}u.defaultProps={content:"",name:"content",onChange:()=>{},onKeyCommand:()=>{},commands:c},u.propTypes={autoFocus:a.bool,editorState:a.object,className:a.string,name:a.string,onChange:a.func,onKeyCommand:a.func,commands:a.array},e.exports=u},function(e,t){const n={13:"enter",27:"esc",32:"space"};e.exports=function(e,t){const r=[],o=function(e){return n[e]||String.fromCharCode(e)}(e.which||e.keyCode||e.charCode),a=t.split("+");e.shiftKey&&r.push("shift");e.altKey&&r.push("alt");(e.ctrlKey||e.metaKey)&&r.push("cmd");return r.push(o),function(e,t){return e.length===t.length&&e.every(function(e){return t.some(function(t){return e.toLowerCase()===t.toLowerCase()})})}(r,a)}},function(e,t,n){e.exports=n(19)()},function(e,t,n){"use strict";var r=n(20),o=n(21),a=n(22);e.exports=function(){function e(e,t,n,r,c,s){s!==a&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,o,a,c,s,i){if(r(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,o,a,c,s,i],f=0;(l=new Error(t.replace(/%s/g,function(){return u[f++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=function(e){return e.replace(/\r\n/g,"\n").replace(/\r/g,"\n")}},function(e,t){e.exports=function(e,t,n){let r,o=e.toString();return o=t+(o=(o=o.replace(/\/([gim]*)$/,function(e,t){return r=t,""})).replace(/(^\/|\/$)/g,""))+n,new RegExp(o,r)}},function(e,t,n){const{trim:r}=n(1),{compile:o}=n(0),a=/^(\**)/,c=/(\**$)/,s=/(\s?)$/,i=/\n{2,}/g;e.exports.bold=function(e){const t=r(e);t.selection=t.selection.replace(i,"\n");const n=c.exec(t.before)[0],l=a.exec(t.after)[0];if(Math.min(n.length,l.length)>=2)t.before=t.before.replace(new RegExp("\\*{2}$",""),""),t.after=t.after.replace(new RegExp("^\\*{2}",""),"");else if(!t.selection&&l)t.after=t.after.replace(a,""),t.before=t.before.replace(s,"")+l+RegExp.$1;else{t.selection||l||(t.selection="");const e="**";t.before+=e,t.after=e+t.after}return o(t)},e.exports.isBold=function(e){const t=r(e),n=c.exec(t.before)[0],o=a.exec(t.after)[0];return Math.min(n.length,o.length)>=2||!t.selection.replace(i,"\n")&&o}},function(e,t,n){const{trim:r}=n(1),{compile:o}=n(0),a=/^(_*)/,c=/(_*$)/,s=/(\s?)$/,i=/\n{2,}/g;e.exports.italic=function(e){const t=r(e);t.selection=t.selection.replace(i,"\n");const n=c.exec(t.before)[0],l=a.exec(t.after)[0];if(Math.min(n.length,l.length)>=1)t.before=t.before.replace(new RegExp("_$",""),""),t.after=t.after.replace(new RegExp("^_",""),"");else if(!t.selection&&l)t.after=t.after.replace(a,""),t.before=t.before.replace(s,"")+l+RegExp.$1;else{t.selection||l||(t.selection="");const e="_";t.before+=e,t.after=e+t.after}return o(t)},e.exports.isItalic=function(e){const t=r(e),n=c.exec(t.before)[0],o=a.exec(t.after)[0];return Math.min(n.length,o.length)>=1||!t.selection.replace(i,"\n")&&o}},function(e,t,n){const r=n(28),{trim:o,findTags:a}=n(1),{compile:c}=n(0),s=/^[ ]{0,3}\[((?:attachment-)?\d+)]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|$)/gm,i=/^attachment-(\d+)$/i,l=/(\[)((?:\[[^\]]*\]|[^[\]])*)(\][ ]?(?:\n[ ]*)?\[)((?:attachment-)?\d+)(\])/g;function u({chunks:e,definition:t,attachment:n}){let r=0;const o={},a=[],c=Object.assign({},e);c.before=f(c.before),c.selection=f(c.selection),c.after=f(c.after),c.before=c.before.replace(l,d),t?n||p(t):c.selection=c.selection.replace(l,d);const u=r;return c.after=c.after.replace(l,d),c.after&&(c.after=c.after.replace(/\n*$/,"")),c.after||(c.selection=c.selection.replace(/\n*$/,"")),r=0,Object.keys(o).forEach(function(e){i.test(e)&&p(o[e])}),n&&p(t),c.after+=`\n\n${a.join("\n")}`,{anchor:u,result:c};function f(e){return s.lastIndex=0,e.replace(s,function(e,t,n,r,a){if(o[t]=e.replace(/\s*$/,""),r)return o[t]=e.replace(/["(](.+?)[")]$/,""),r+a;return""})}function p(e){r+=1,e=e.replace(/^[ ]{0,3}\[(attachment-)?(\d+)]:/,`  [$1${r}]:`),a.push(e)}function d(e,t,n,a,c,s){return n=n.replace(l,d),o[c]?(p(o[c]),t+n+a+r+s):e}}e.exports.linkOrMediaOrAttachment=function(e,t,n){if(!t)return c(e);const s="media"===n;let i=a(o(e),/\s*!?\[/,/][ ]?(?:\n[ ]*)?(\[.*?])?/);if(i.endTag.length>1&&i.startTag.length>0)return i.startTag=i.startTag.replace(/!?\[/,""),i.endTag="",i=u({chunks:i}).result,c(i);if(i.selection=i.startTag+i.selection+i.endTag,i.endTag="",i.startTag="",/\n\n/.test(i.selection))return i=u({chunks:i}).result,c(i);i.selection=` ${i.selection}`.replace(/([^\\](?:\\\\)*)(?=[[\]])/g,"$1\\").substr(1);const l=r(t),f=(l.attachment?"  [attachment-9999]: ":" [9999]: ")+l.href+(l.title?` "${l.title}"`:""),p=u({chunks:i,definition:f,attachment:l.attachment}),{anchor:d}=p;return i=p.result,l.attachment||(i.startTag=s?"![":"[",i.endTag=`][${d}]`,i.selection||(i.selection="")),c(i)}},function(e,t){var n=/^\s*(.*?)(?:\s+"(.+)")?\s*$/,r=/^(?:https?|ftp):\/\//;function o(e){return e.replace(/\+/g," ")}function a(e){return e.replace(/\+/g,"%2b")}e.exports=function(e){return function(e,t,n){var c=t.replace(/\?.*$/,o);return c=decodeURIComponent(c),{href:function(e){var t=e.replace(/^\s+|\s+$/g,"");return t.length&&"/"!==t[0]&&!r.test(t)?"http://"+t:t}(c=(c=encodeURI(c).replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29")).replace(/\?.*$/,a)),title:function(e){return e?e.replace(/^\s+|\s+$/g,"").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):null}(n)}}.apply(null,e.match(n))}},function(e,t,n){const{skip:r,trim:o,findTags:a}=n(1),{compile:c}=n(0),{unwrap:s}=n(7),i=/(\n|^)(([ ]{0,3}(\d+[.])[ \t]+.*)(\n.+|\n{2,}(\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*$/,l=/(\n|^)(([ ]{0,3}([*+-])[ \t]+.*)(\n.+|\n{2,}([*+-].*)[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*$/,u=/^\n*(([ ]{0,3}(\d+[.])[ \t]+.*)(\n.+|\n{2,}(\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*/,f=/^\n*(([ ]{0,3}([*+-])[ \t]+.*)(\n.+|\n{2,}([*+-].*)[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*/,p=/^\s*([*+-])/,d=/[^\n]\n\n[^\n]/,g=/^[ ]{0,3}(\d+[.])\s/gm,m=/^[ ]{0,3}([*+-])\s/gm;function h(e){return` ${e} `}e.exports.list=function(e,t){let n,b="-",y=0,T=1,x=1,$=a(e,/(\n|^)*[ ]{0,3}([*+-]|\d+[.])\s+/);return!$.before||/\n$/.test($.before)||/^\n/.test($.startTag)||($.before+=$.startTag,$.startTag=""),$.startTag&&(n=/\d+[.]/.test($.startTag),$.startTag="",$.selection=$.selection.replace(/\n[ ]{4}/g,"\n"),$=s($),$=r($),n&&($.after=t?$.after.replace(u,S):$.after.replace(f,S)),t===n)?c($):($.before=t?$.before.replace(i,k):$.before.replace(l,k),$.selection||($.selection=""),$.after=t?$.after.replace(u,v):$.after.replace(f,v),$=o($,!0),($=r($,{before:T,after:x,any:!0})).startTag=C(),$.selection=$.selection.replace(/\n(?!([ ]{0,3}- |[ ]{0,3}\d+\. ))/g,()=>`\n${C()}`),c($));function k(e){return p.test(e)&&(b=RegExp.$1),T=d.test(e)?1:0,S(e)}function v(e){return x=d.test(e)?1:0,S(e)}function C(){return h(t?`${y+=1}.`:b)}function S(e){return t?e.replace(g,C):e.replace(m,C)}}},function(e,t,n){const{settings:r}=n(3),{skip:o}=n(1),{compile:a}=n(0),{wrap:c,unwrap:s}=n(7),i=/(>[ \t]*)$/,l=/^(>[ \t]*)/,u=/^(\n*)([^\r]+?)(\n*)$/,f=/^(((\n|^)(\n[ \t]*)*>(.+\n)*.*)+(\n[ \t]*)*)/,p=/^\n((>|\s)*)\n/,d=/\n((>|\s)*)\n$/;e.exports.blockquote=function(e){let t,n="",g="",m=Object.assign({},e);return m.selection=m.selection.replace(u,function(e,t,n,r){return m.before+=t,m.after=r+m.after,n}),m.before=m.before.replace(i,function(e,t){return m.selection=t+m.selection,""}),m.selection=m.selection.replace(/^(\s|>)+$/,""),m.selection=m.selection||"",m.before&&function(){const e=m.before.replace(/\n$/,"").split("\n");let r,o=!1;for(let a=0;a<e.length;a++)r=!1,t=e[a],o=o&&t.length>0,/^>/.test(t)?(r=!0,!o&&t.length>1&&(o=!0)):r=!!/^[ \t]*$/.test(t)||o,r?n+=`${t}\n`:(g+=n+t,n="\n");/(^|\n)>/.test(n)||(g+=n,n="")}(),m.startTag=n,m.before=g,m.after&&(m.after=m.after.replace(/^\n?/,"\n")),m.after=m.after.replace(f,function(e){return m.endTag=e,""}),/^(?![ ]{0,3}>)/m.test(m.selection)?(c(m,r.lineLength-2),m.selection=m.selection.replace(/^/gm,"> "),h(!0),m=o(m)):(m.selection=m.selection.replace(/^[ ]{0,3}> ?/gm,""),s(m),h(!1),!/^(\n|^)[ ]{0,3}>/.test(m.selection)&&m.startTag&&(m.startTag=m.startTag.replace(/\n{0,2}$/,"\n\n")),!/(\n|^)[ ]{0,3}>.*$/.test(m.selection)&&m.endTag&&(m.endTag=m.endTag.replace(/^\n{0,2}/,"\n\n"))),/\n/.test(m.selection)||(m.selection=m.selection.replace(l,function(e,t){return m.startTag+=t,""})),a(m);function h(e){const t=e?"> ":"";function n(e,n){return`\n${n.replace(/^[ ]{0,3}>?[ \t]*$/gm,t)}\n`}m.startTag&&(m.startTag=m.startTag.replace(d,n)),m.endTag&&(m.endTag=m.endTag.replace(p,n))}}},function(e,t,n){const{skip:r,trim:o,findTags:a}=n(1),{compile:c}=n(0),s=/\S[ ]*$/,i=/^[ ]*\S/,l=/\n/,u=/`/,f=/```[a-z]*\n?$/,p=/^```[a-z]*\n/,d=/^\n?```/,g=/\n```$/;e.exports.codeblock=function(e){const t=l.test(e.selection),n=i.test(e.after),m=s.test(e.before),h=f.test(e.before)&&d.test(e.after);return h||t||!m&&!n?function(e,t){let n=Object.assign({},e);if(t)return n.before=n.before.replace(f,""),n.after=n.after.replace(d,""),c(n);n.before=n.before.replace(/[ ]{4}|```[a-z]*\n$/,function(e){return n.selection=e+n.selection,""}),(n=r(n,{before:/(\n|^)(\t|[ ]{4,}|```[a-z]*\n).*\n$/.test(n.before)?0:1,after:/^\n(\t|[ ]{4,}|\n```)/.test(n.after)?0:1})).selection?p.test(n.selection)&&g.test(n.selection)?n.selection=n.selection.replace(/(^```[a-z]*\n)|(```$)/g,""):/^[ ]{0,3}\S/m.test(n.selection)?(n.before+="```\n",n.after=`\n\`\`\`${n.after}`):n.selection=n.selection.replace(/^(?:[ ]{4}|[ ]{0,3}\t|```[a-z]*)/gm,""):(n.startTag="```\n",n.endTag="\n```",n.selection="");return c(n)}(e,h):function(e){let t=o(e);(t=a(t,u,u)).startTag||t.endTag?t.endTag&&!t.startTag?(t.before+=t.endTag,t.endTag=""):(t.endTag="",t.startTag=""):(t.endTag="`",t.startTag="`",t.selection||(t.selection=""));return c(t)}(e)},e.exports.isCodeblock=function(e){return f.test(e.before)&&d.test(e.after)}},function(e,t,n){const{skip:r}=n(1),{compile:o}=n(0),a=/\S[ ]*$/,c=/^[ ]*\S/,s=/\n/,i=/```notebook\n$/,l=/^```notebook\n/,u=/^\n?```/,f=/\n```$/;e.exports.notebook=function(e,t){const n=s.test(e.selection),p=c.test(e.after),d=a.test(e.before),g=i.test(e.before)&&u.test(e.after);return g||n||!d&&!p?function(e,t,n){let a=Object.assign({},e);if(t)return a.before=a.before.replace(i,""),a.after=a.after.replace(u,""),o(a);a.before=a.before.replace(/[ ]{4}|```[a-z]*\n$/,function(e){return a.selection=e+a.selection,""}),(a=r(a,{before:/(\n|^)(\t|[ ]{4,}|```[a-z]*\n).*\n$/.test(a.before)?0:1,after:/^\n(\t|[ ]{4,}|\n```)/.test(a.after)?0:1})).selection?l.test(a.selection)&&f.test(a.selection)?a.selection=a.selection.replace(/(^```[a-z]*\n)|(```$)/g,""):/^[ ]{0,3}\S/m.test(a.selection)?(a.before+="```notebook\n",a.after=`\n\`\`\`${a.after}`):a.selection=a.selection.replace(/^(?:[ ]{4}|[ ]{0,3}\t|```[a-z]*)/gm,""):(a.startTag="```notebook\n",a.endTag="\n```",a.selection=n||"");return o(a)}(e,g,t):o(Object.assign({},e,{startTag:"\n```notebook\n",endTag:"```\n"}))}},function(e,t,n){const{skip:r,findTags:o}=n(1),{compile:a}=n(0),c=n(4);e.exports.heading=function(e,t){let n=t||0,s=Object.assign({},e);s.selection=s.selection.replace(/\s+/g," ").replace(/(^\s+|\s+$)/g,"");const i=(s=o(s,/#+[ ]*/,/[ ]*#+/)).before+s.startTag,l=i.substring(i.lastIndexOf("\n"));!t&&/#+/.test(l)&&(n=RegExp.lastMatch.length),s.endTag="",s.startTag="",s=o(s,null,/\s?(-+|=+)/),!t&&/=+/.test(s.endTag)&&(n=1),!t&&/-+/.test(s.endTag)&&(n=2),s.endTag="",s.startTag="",s=r(s,{before:1,after:1});const u=t||(4===n?1:n+1);return u>0&&(s.startTag=`${c("#",u)} `),a(s)}},function(e,t,n){const{skip:r}=n(1),{compile:o}=n(0);e.exports.hr=function(e){const t=Object.assign({},e);return t.startTag="----------\n",t.selection="",o(r(t,{left:2,right:1,any:!0}))}}]);